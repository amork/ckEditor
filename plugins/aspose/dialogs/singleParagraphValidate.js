(function(){CKEDITOR.dialog.add("singleParagraphValidate",function(b){return{title:"Multiple types of content warning",resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:300,minHeight:100,onShow:function(){document.querySelector("a.cke_dialog_ui_button_ok").style.backgroundColor="#1487f5"},contents:[{id:"singlepv",label:"First Tab",accessKey:"Q",elements:[{id:"msg",type:"html",html:'\x3cdiv\x3e\x3ch3\x3eMultiple types of content are detected.\x3c/h3\x3e\x3ch3\x3eWe are inserting the text. Please go back and insert remaining content.\x3c/h3\x3e\x3cdiv id\x3d"singleparagraphValidate_errors"\x3e\x3c/div\x3e\x3c/div\x3e'}]}],
onOk:function(){var a=$(b.editable().$).clone();useOnlyOneParagraph(b,a)},onCancel:function(){b.execCommand("undo")}}})})();
function useOnlyOneParagraph(b,a){a.find("div").replaceWith(function(){return this.innerHTML});var c="",d=a.children(),d=a.children();1<d.length&&-1!=="P DIV H1 H2 H3 H4 H5 H6 H7".split(" ").indexOf(d[0].tagName)?(a.find("table").remove(),d=a.children(),d.each(function(a){if(-1!=="P H1 H2 H3 H4 H5 H6 H7".split(" ").indexOf(this.tagName))c+=this.innerHTML;else if(-1!==["UL","OL"].indexOf(this.tagName))for(var b=0;b<this.children.length;b++)c+=this.children[b].innerHTML;else c+=this.outerHTML;a!==d.length-
1&&"\x3cbr\x3e"!==this.innerHTML&&this.innerText.trim().length&&(c+="\x3cbr\x3e");a&&this.parentNode.removeChild(this)}),d[0].innerHTML=c):"table"!==d[0].tagName&&a.text().length>a.find("table").text().length&&a.find("table").remove();b.setData(a.html())};