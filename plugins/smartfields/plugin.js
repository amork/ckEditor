(function(){CKEDITOR.plugins.add("smartfields",{lang:"en,ru",hidpi:!0,onLoad:function(){CKEDITOR.addCss(".cke_placeholder{background-color:#ff0}")},init:function(a){a.ui.addRichCombo("smartfields",{label:"Smart field",title:"Add a smart field",toolbar:"insert,5",panel:{css:[CKEDITOR.skin.getPath("editor")].concat(a.config.contentsCss),multiSelect:!1},init:function(){this.startGroup("Smart Fields");var b=this;(a.config.smartFields||[]).forEach(function(a){b.add(a.value,a.label)})},onClick:function(b){a.focus();
a.fire("saveSnapshot");var c=a.getSelection().getRanges()[0].extractContents();b=CKEDITOR.dom.element.createFromHtml('\x3cspan class\x3d"cke_placeholder" \x3e[['+b+"]]\x3c/span\x3e",a.document);c.appendTo(b);a.insertElement(b);a.widgets.initOn(b,"placeholder")}})}})})();